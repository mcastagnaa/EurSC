{
    "contents" : "library(ggplot2)\nlibrary(reshape2)\nlibrary(plyr)\nlibrary(zoo)\n\nrm(list =ls(all=TRUE))\nRawData <- read.csv(\"RawData.csv\", header=TRUE)\n\nhead(RawData)\n# apply(RawData[c(\"JP_LCEMD\", \"SH_LCEMD\", \"JP_EMD\", \"SH_EMD\")], 2, function(x) sd(x, na.rm=TRUE)*sqrt(12))\n# \n# RollingObs <- 20\n# \n# RollSd <- data.frame(cbind(RawData$Date, \n#                            rollapplyr(RawData[c(\"JP_LCEMD\", \n#                                                 \"SH_LCEMD\", \n#                                                 \"JP_EMD\", \n#                                                 \"SH_EMD\", \n#                                                 \"B_LCEMD\", \n#                                                 \"B_EMD\")], \n#                                       RollingObs, sd, fill=NA)))\n# colnames(RollSd)[1] <- \"Date\"\n# \n# head(RollSd)\n# RollSd$Date <- as.Date(RollSd$Date)\n# \n# meltdf<-melt(RollSd,id=\"Date\")\n# ggplot(na.omit(meltdf), \n#        aes(x=Date, y=value, colour=variable, group=variable, linetype = variable, size= variable)) +\n#   geom_line() + \n#   ylab(paste0(\"Rolling sd (\", toString(RollingObs), \"obs)\")) + \n#   scale_linetype_manual(values= c(\"solid\",\"dashed\",\"solid\",\"dashed\", \"dotted\", \"dotted\")) +\n#   scale_color_manual(values= c(\"purple\", \"purple\", \"orange\", \"orange\", \"purple\", \"orange\")) + \n#   scale_size_manual(values= c(1.1, 1.1, 1.1, 1.1, 1, 1)) + \n#   theme(legend.position=\"bottom\")\n# \n# \n# RawData$Date <- as.Date(RawData$Date, format=\"%d/%m/%Y\")\n# RawData$SH_EMDr <- RawData$SH_EMD - RawData$B_EMD\n# RawData$SH_LEMDr <- RawData$SH_LCEMD - RawData$B_LCEMD\n# RawData$JP_EMDr <- RawData$JP_EMD - RawData$B_EMD\n# RawData$JP_LEMDr <- RawData$JP_LCEMD - RawData$B_LCEMD\n# \n# head(RawData)\n# \n# EMDset <- subset(RawData, !is.na(SH_EMD) | !is.na(JP_EMD), select=c(Date, SH_EMD, JP_EMD, B_EMD))\n# LEMDset <- subset(RawData, !is.na(SH_LCEMD) | !is.na(JP_LCEMD), select=c(Date, SH_LCEMD, JP_LCEMD, B_LCEMD))\n# EMDrr <- subset(RawData, !is.na(SH_EMD) | !is.na(JP_EMD), select=c(Date, SH_EMDr, JP_EMDr))\n# LEMDrr <- subset(RawData, !is.na(SH_LCEMD) | !is.na(JP_LCEMD), select=c(Date, SH_LEMDr, JP_LEMDr))\n# \n# W_JP_LCEMD <- data.frame(W_JP_LCEMD=RawData$B_LCEMD[!is.na(RawData$JP_LCEMD)])\n# W_SH_LCEMD <- data.frame(W_SH_LCEMD=RawData$B_LCEMD[!is.na(RawData$SH_LCEMD)])\n# W_JP_EMD <- data.frame(W_JP_EMD=RawData$B_EMD[!is.na(RawData$JP_EMD)])\n# W_SH_EMD <- data.frame(W_SH_EMD=RawData$B_EMD[!is.na(RawData$SH_EMD)])\n# \n# WORLDS <- do.call(rbind.fill, list(W_JP_LCEMD, W_SH_LCEMD, W_JP_EMD, W_SH_EMD))\n# apply(WORLDS, 2, function(x) sd(x, na.rm=TRUE)*sqrt(12))\n# rm(list =ls(pattern=\"W_\"))\n# \n# meltdf<-melt(EMDset,id=\"Date\")\n# ggplot(meltdf, \n#         aes(x=Date, y=value, colour=variable, group=variable)) +\n#         geom_line() + \n#         ylab(\"Absolute Returns\") + \n#         theme(legend.position=\"bottom\")\n# \n# \n# meltdf<-melt(LEMDset,id=\"Date\")\n# ggplot(meltdf, \n#       aes(x=Date, y=value, colour=variable, group=variable)) +\n#       geom_line() + \n#       ylab(\"Absolute Returns\") + \n#       theme(legend.position=\"bottom\")\n# \n# meltdf<-melt(EMDrr,id=\"Date\")\n# ggplot(meltdf, \n#        aes(x=Date, y=value, colour=variable, group=variable)) +\n#   geom_line() + \n#   ylab(\"Relative Returns\") + \n#   theme(legend.position=\"bottom\")\n# \n# meltdf<-melt(LEMDrr,id=\"Date\")\n# ggplot(meltdf, \n#        aes(x=Date, y=value, colour=variable, group=variable)) +\n#   geom_line() + \n#   ylab(\"Relative Returns\") + \n#   theme(legend.position=\"bottom\")\n# \n# LEMDrr <- subset(RawData, !is.na(SH_LCEMD) & !is.na(JP_LCEMD), select=c(Date, SH_LEMDr, JP_LEMDr))\n# meltdf<-melt(LEMDrr,id=\"Date\")\n# ggplot(meltdf, \n#        aes(x=Date, y=value, colour=variable, group=variable)) +\n#   geom_line() + \n#   ylab(\"Relative Returns\") + \n#   theme(legend.position=\"bottom\")\n# \n# head(EMDrr)\n# ks.test(EMDrr$SH_EMDr, EMDrr$JP_EMDr, alternative=\"two.sided\", exact=NULL)\n# \n# LEMDrr <- subset(RawData, !is.na(SH_LCEMD) | !is.na(JP_LCEMD), select=c(Date, SH_LEMDr, JP_LEMDr))\n# head(LEMDrr)\n# ks.test(LEMDrr$SH_LEMDr, LEMDrr$JP_LEMDr, alternative=\"two.sided\", exact=NULL)\n# \n# SH <- na.omit(EMDrr$SH_EMDr)\n# JP <- na.omit(EMDrr$JP_EMDr)\n# \n# plot(ecdf(SH), \n#      xlim=range(c(SH, JP)))\n# plot(ecdf(JP), add=TRUE, lty=\"dashed\")\n# \n# SH <- SH[SH >-5]\n# #get rid of 10/09 observation\n# \n# #ddply(RawData, c(\"JP_LCEMD\", \"JP_EMD\", \"SH_LCEMD\", \"SH_EMD\"), summarize, sd=sd(value), sda=sd(value)*sqrt(12))\n# \n",
    "created" : 1427130792640.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4034249061",
    "id" : "8266F884",
    "lastKnownWriteTime" : 1427131068,
    "path" : "G:/GitHub/EurSC/Script1.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}